
pub fn split(str: $T[], sep: [$T])
{
    mut result: $T[][];
    mut last:   i32;
    mut next:   i32;

    let N = sep.len;
    if (N) while ((next = str.find(sep, start: last)) >= 0)
    {
        result  ~= str.slice(last, next);
        last     = next + N;
    }

    if (!result)
        return [ str ];

    result ~= str.slice(last);
    return result;
}
